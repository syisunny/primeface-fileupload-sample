<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
</h:head>
<h:body>

    <script type="text/javascript">

				jQuery(document).ready(function() {
					$(".uploadImage > div > span > span:first-child")
							.removeClass('ui-icon-plusthick').addClass(
									'fa-plus').addClass('fa');
					$(".uploadImage > div > button:nth-child(2) > span:first-child")
							.removeClass('ui-icon-arrowreturnthick-1-n').addClass(
									'fa-upload').addClass('fa');
					$(".uploadImage > div > button:nth-child(3) > span:first-child")
							.removeClass('ui-icon-cancel').addClass(
									'fa-remove').addClass('fa');
					$(".uploadImage > div > span:first-child")
							.addClass('btn-success').addClass('btn');
					$(".uploadImage > div > button")
							.addClass('btn-default').addClass('btn');
				});

        function handleMultiFileUploadRequest(fileupload, finalCommand) {
            if (fileupload.files.length === 0) {
                if (finalCommand) {
                    finalCommand();
                }
            }
        }


    </script>

    <h:form>

        <p:messages id="message"
                    closable="true" styleClass="padding-h-10">
            <p:autoUpdate/>
        </p:messages>

        <p:fileUpload id="uploadLogos" styleClass="uploadImage"
                      onstart="startCommand()" widgetVar="uploadLogos"
                      oncomplete="handleMultiFileUploadRequest(PF('uploadLogos'), finalCommand);"
                      fileUploadListener="#{fileUploadController.handleFileUpload}" mode="advanced"
                      dragDropSupport="false"
                      multiple="true" sizeLimit="2000000" fileLimit="10" allowTypes="/(\.|\/)(bmp|jpe?g|png)$/">
        </p:fileUpload>
        <p:remoteCommand name="startCommand" action="#{fileUploadController.onStartFunction()}"/>
        <p:remoteCommand name="finalCommand" action="#{fileUploadController.onCompleteFunction()}"/>

    </h:form>


</h:body>
</html>
